# 简单工厂

**简单工厂模式（Simple Factory Pattern）**：定义一个工厂类，可以根据参数的不同返回不同类的实例。
被创建的实例通常具有共同的父类。

简单工厂并不属于 23 种设计模式中的一种。

工厂类的引入将降低因为产品或工厂类改变所造成的维护工作量。

所有工厂类都强调一点：两个类 A 和 B 之间的关系仅仅是 A 创建 B 或 A 使用 B ，不能两种关系都有。
将对象的创建和使用分离，更加符合单一职责原则。

# 结构

核心是工厂类的设计。
一般来说包含以下三个角色：

1. Factory 工厂角色：即工厂类， 是简单工厂模式的核心，负责实现创建所有产品实例的内部逻辑。
2. Product 抽象产品角色：是工厂类创建的所有对象的父类，封装了各种产品对象的公共方法。
3. ConcreteProduct 具体产品角色：是简单工厂模式的创建目标，继承抽象产品角色。
4. 为了简化，有时候可以将抽象产品类和工厂类合并，将静态工厂方法移至抽象产品类中。

# 优缺点

## 优点

- 对象创建和使用的分离
- 用户无需知道具体产品类的类名，只需要知道对应的参数
- 通过配置文件可以满足不修改代码的情况下更换和增加新的具体产品类

## 缺点

- 工厂类职责过重
- 增加系统中类的个数（工厂类）
- 扩展困难，添加新产品要修改工厂逻辑
- 由于是静态工厂方法， 工厂角色无法形成基于继承的等级结构

# 本例

模拟开发一套图表库，可以为应用系统提供不同外观图表，如柱状图、饼状图、折线图等。

## 分析

- 创建抽象层 Chart 接口 及其继承类，实现接口方法
- 创建工厂类，提供静态方法，根据参数判断要创建的 Chart 具体实例
- 通过 Xml 配置文件满足开闭原则，读取文件配置项作为参数传入工厂类，以创建不同的实例对象
